/**
 * lc_micro_slider.js - lightweight responsive slider with jquery.touchSwipe.js (or AlloyFinger) integration
 * Version: 1.3.1
 * Author: Luca Montanari aka LCweb
 * Website: http://www.lcweb.it
 * Licensed under the MIT license
 */

(function($){var lc_micro_slider=function(element,lcms_settings){var settings=$.extend({slide_fx:'fadeslide',slide_easing:'ease',nav_arrows:!0,nav_dots:!0,slideshow_cmd:!0,carousel:!0,touchswipe:!0,autoplay:!1,animation_time:700,slideshow_time:5000,pause_on_hover:!0,loader_code:'<span class="lcms_loader"></span>',thumbnail:!1,source:[],height:'600px',width:'100%',},lcms_settings);jQuery(element).css('height',settings.height);jQuery(element).css('width',settings.width);jQuery(element).append('<ul style="display: none;" id="zgk_lcms_element_list"></ul>');settings.source.forEach(sliderElement=>{switch(sliderElement.type){case 'img':jQuery('#zgk_lcms_element_list').append('<li lcms_img="'+sliderElement.source+'"></li>');break;case 'youtube':jQuery('#zgk_lcms_element_list').append('<li class="lcms_contents_fullheight lcms_nopadding"><iframe width="100%" height="100%" src="'+sliderElement.source+'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></li>');break;default:break}});var vars={slides:[],shown_slide:0,cached_img:[],uniqid:'',is_sliding:!1,is_playing:!1,paused_on_hover:!1};var $lcms_wrap_obj=$(element);$lcms_wrap_obj.data('lcms_vars',vars);$lcms_wrap_obj.data('lcms_settings',settings);var slider_setup=function($wrap_obj){var vars=$wrap_obj.data('lcms_vars');var settings=$wrap_obj.data('lcms_settings');$wrap_obj.find('li').each(function(i,v){$(this).find('noscript').remove();var obj={'content':$(this).html(),'img':$(this).attr('lcms_img'),'classes':(typeof($(this).attr('class'))=='undefined')?'':$(this).attr('class')};vars.slides.push(obj)});vars.uniqid='lcms_'+Math.floor(Math.random()*1000000)+new Date().getMilliseconds();$wrap_obj.html('<div class="lcms_wrap '+vars.uniqid+'"><div class="lcms_container"></div></div>');vars.shown_slide=0;populate_slide($wrap_obj,'init',0);if(settings.nav_arrows&&vars.slides.length>1){var disabled_btn=(settings.carousel)?'':'lcms_disabled_btn';$wrap_obj.find('.lcms_wrap').addClass('lcms_has_nav_arr').prepend('<div class="lcms_nav"><span class="lcms_prev '+disabled_btn+'"></span><span class="lcms_next"></span></div>')}
if(settings.slideshow_cmd&&vars.slides.length>1){$wrap_obj.find('.lcms_wrap').addClass('lcms_has_ss_cmd').prepend('<div class="lcms_play"><span></span></div>')}
if(settings.nav_dots&&vars.slides.length>1&&!settings.thumbnail){var code='<div class="lcms_nav_dots">';for(a=0;a<vars.slides.length;a++){code+='<span rel="'+a+'"></span>'}
$wrap_obj.find('.lcms_wrap').addClass('lcms_has_nav_dots').prepend(code+'</div>');$wrap_obj.find('.lcms_nav_dots span').first().addClass('lcms_sel_dot')}
if(settings.thumbnail){var code='<div class="lcms_nav_dots zgk_lcms_nav_thumbnail">';for(a=0;a<vars.slides.length;a++){switch(settings.source[a].type){case 'img':var thumbnail=settings.source[a].source;code+='<span width="50px" rel="'+a+'"><img height="50px" width="50px" src="'+thumbnail+'" /></span>';break;case 'youtube':var thumbnail='https://img.icons8.com/dotty/80/000000/video-file.png';code+='<span width="50px" rel="'+a+'"><img style="background: white;" height="50px" width="50px" src="'+thumbnail+'" /></span>';break;default:break}}
$wrap_obj.find('.lcms_wrap').addClass('').prepend(code+'</div>');$wrap_obj.find('.lcms_nav_dots span').first().addClass('lcms_sel_dot')}
if(settings.slide_fx&&settings.slide_fx!='none'){if(settings.slide_easing&&settings.slide_easing!='ease'){var easing_code='-webkit-animation-timing-function: '+settings.slide_easing+' !important;'+'animation-timing-function: '+settings.slide_easing+' !important;'}else{var easing_code=''}
$('head').append('<style type="text/css">'+'.'+vars.uniqid+' .lcms_before,'+'.'+vars.uniqid+' .lcms_after,'+'.'+vars.uniqid+' .lcms_prepare_for_prev,'+'.'+vars.uniqid+' .lcms_prepare_for_next {'+'-webkit-animation-duration: '+settings.animation_time+'ms !important;'+'animation-duration: '+settings.animation_time+'ms !important;'+easing_code+'}</style>');$wrap_obj.find('.lcms_wrap').addClass('lcms_'+settings.slide_fx+'_fx')}
if(settings.autoplay){$wrap_obj.lcms_start_slideshow()}
$wrap_obj.trigger('lcms_ready');$(document).ready(function(e){if(typeof($.fn.swipe)=='function'||typeof(AlloyFinger)=='function'){touchswipe()}})};var populate_slide=function($wrap_obj,type,slide_index){var vars=$wrap_obj.data('lcms_vars');var settings=$wrap_obj.data('lcms_settings');var slide=vars.slides[slide_index];var preload_class=(slide.img)?'lcms_preload':'';var loader_code=(slide.img)?settings.loader_code:'';var fx_class;switch(type){case 'init':fx_class='lcms_active_slide';break;case 'fade':fx_class='lcms_fadein';break;case 'prev':fx_class='lcms_before';break;case 'next':fx_class='lcms_after';break}
$wrap_obj.find('.lcms_nav_dots span').removeClass('lcms_sel_dot');$wrap_obj.find('.lcms_nav_dots span').eq(slide_index).addClass('lcms_sel_dot');var bg=(slide.img)?'<div class="lcms_bg" style="background-image: url('+slide.img+');"></div>':'';var contents=($.trim(slide.content))?'<div class="lcms_content">'+slide.content+'</div>':'';var slide_code='<div class="lcms_slide '+fx_class+' '+preload_class+'" rel="'+slide_index+'"><div class="lcms_inner '+slide.classes+'">'+bg+contents+'</div>'+loader_code+'</div>';$wrap_obj.find('.lcms_container').append(slide_code);if(slide.img){if($.inArray(slide.img,vars.cached_img)===-1){$('<img/>').bind("load",function(){vars.cached_img.push(this.src);$('.lcms_slide[rel='+slide_index+']').removeClass('lcms_preload');$('.lcms_slide[rel='+slide_index+']').find('> *').not('.lcms_inner').fadeOut(300,function(){$(this).remove()});$wrap_obj.trigger('lcms_slide_shown',[slide_index,slide]);if($('.lcms_slide[rel='+slide_index+']').hasClass('lcms_active_slide')){$wrap_obj.trigger('lcms_initial_slide_shown',[slide_index,slide])}}).attr('src',slide.img)}
else{$('.lcms_slide[rel='+slide_index+']').removeClass('lcms_preload').addClass('lcms_cached');$('.lcms_slide[rel='+slide_index+']').find('> *').not('.lcms_inner').remove();$wrap_obj.trigger('lcms_slide_shown',[slide_index,slide])}}
if(vars.slides.length>1){var next_load=(slide_index<(vars.slides.length-1))?(slide_index+1):0;if($.inArray(vars.slides[next_load].img,vars.cached_img)===-1){$('<img/>').bind("load",function(){vars.cached_img.push(this.src)}).attr('src',vars.slides[next_load].img)}}
if(vars.slides.length>2){var prev_load=(!slide_index)?(vars.slides.length-1):(slide_index-1);if($.inArray(vars.slides[prev_load].img,vars.cached_img)===-1){$('<img/>').bind("load",function(){vars.cached_img.push(this.src)}).attr('src',vars.slides[prev_load].img)}}};lcms_slide=function($wrap_obj,direction){var vars=$wrap_obj.data('lcms_vars');var settings=$wrap_obj.data('lcms_settings');var at=settings.animation_time;var curr_index=vars.shown_slide;if(!settings.carousel&&((direction=='prev'&&!vars.shown_slide)||(direction=='next'&&vars.shown_slide==vars.slides.length-1))){return!1}
if(vars.lcms_is_sliding||vars.slides.length==1){return!1}
if(typeof(direction)=='number'&&(direction<0||direction>(vars.slides.length-1))){return!1}
if(direction=='prev'){var new_index=(curr_index===0)?(vars.slides.length-1):(curr_index-1)}
else if(direction=='next'){var new_index=(curr_index==(vars.slides.length-1))?0:(curr_index+1)}
else{var new_index=direction;direction=(new_index>curr_index)?'next':'prev'}
vars.lcms_is_sliding=!0;$wrap_obj.addClass('lcms_is_sliding lcms_moving_'+direction);$wrap_obj.find('.lcms_active_slide').addClass('lcms_prepare_for_'+direction);var type=(settings.slide_fx=='fade')?'fade':direction;populate_slide($wrap_obj,type,new_index);vars.shown_slide=new_index;$wrap_obj.trigger('lcms_changing_slide',[new_index,vars.slides[new_index],curr_index]);if(!settings.carousel){$wrap_obj.find('.lcms_prev, .lcms_next, .lcms_play > span').removeClass('lcms_disabled_btn');if(!new_index){$wrap_obj.find('.lcms_prev').addClass('lcms_disabled_btn')}
else if(new_index==(vars.slides.length-1)){$wrap_obj.find('.lcms_next, .lcms_play > span').addClass('lcms_disabled_btn')}}
setTimeout(function(){$wrap_obj.find('.lcms_active_slide').remove();vars.lcms_is_sliding=!1;$wrap_obj.removeClass('lcms_is_sliding lcms_moving_'+direction);$wrap_obj.find('.lcms_slide').removeClass('lcms_fadein lcms_before lcms_after').addClass('lcms_active_slide');$wrap_obj.trigger('lcms_new_active_slide',[new_index,vars.slides[new_index]])},at)};$('.lcms_prev').unbind('click');$lcms_wrap_obj.delegate('.lcms_play','click',function(){var $subj=$(this).parents('.lcms_wrap').parent();var vars=$subj.data('lcms_vars');if(jQuery(this).hasClass('lcms_pause')){if(vars.paused_on_hover){vars.paused_on_hover=!1}
$subj.lcms_stop_slideshow()}
else{$subj.lcms_start_slideshow()}});$('.lcms_prev').unbind('click');$lcms_wrap_obj.delegate('.lcms_prev:not(.lcms_disabled)','click',function(){var $subj=$(this).parents('.lcms_wrap').parent();if(typeof(lcms_one_click)!='undefined'){clearTimeout(lcms_one_click)}
lcms_one_click=setTimeout(function(){$subj.lcms_stop_slideshow();lcms_slide($subj,'prev')},5)});$('.lcms_next').unbind('click');$lcms_wrap_obj.delegate('.lcms_next:not(.lcms_disabled)','click',function(){var $subj=$(this).parents('.lcms_wrap').parent();if(typeof(lcms_one_click)!='undefined'){clearTimeout(lcms_one_click)}
lcms_one_click=setTimeout(function(){$subj.lcms_stop_slideshow();lcms_slide($subj,'next')},5)});$('.lcms_next').unbind('click');$lcms_wrap_obj.delegate('.lcms_nav_dots span:not(.lcms_sel_dot)','click',function(){var $subj=$(this).parents('.lcms_wrap').parent();var new_index=parseInt(jQuery(this).attr('rel'));if(typeof(lcms_one_click)!='undefined'){clearTimeout(lcms_one_click)}
lcms_one_click=setTimeout(function(){$subj.lcms_stop_slideshow();lcms_slide($subj,new_index)},5)});var touchswipe=function(){if(typeof($.fn.swipe)=='function'){$lcms_wrap_obj.find('.lcms_wrap').swipe({swipeRight:function(){var $subj=jQuery(this).parent();$subj.lcms_stop_slideshow();lcms_slide($subj,'prev')},swipeLeft:function(){var $subj=jQuery(this).parent();$subj.lcms_stop_slideshow();lcms_slide($subj,'next')},threshold:40,allowPageScroll:'vertical'})}
else if(typeof(AlloyFinger)=='function'){new AlloyFinger($lcms_wrap_obj.find('.lcms_wrap')[0],{swipe:function(evt){var $subj=jQuery(this).parent();$subj.lcms_stop_slideshow();if(evt.direction==="Right"){lcms_slide($subj,'prev')}
else if(evt.direction==="Left"){lcms_slide($subj,'next')}}})}};if(settings.pause_on_hover){$lcms_wrap_obj.delegate('.lcms_wrap','mouseenter',function(){var $subj=$(this).parent();var vars=$subj.data('lcms_vars');var settings=$subj.data('lcms_settings');if(vars.is_playing){vars.paused_on_hover=!0;$subj.lcms_stop_slideshow()}}).delegate('.lcms_wrap','mouseleave',function(){var $subj=$(this).parent();var vars=$subj.data('lcms_vars');var settings=$subj.data('lcms_settings');if(vars.paused_on_hover){$subj.lcms_start_slideshow();vars.paused_on_hover=!1}})}
slider_setup($lcms_wrap_obj);return this};$.fn.lc_micro_slider=function(lcms_settings){$.fn.lcms_destroy=function(){var $elem=$(this);$elem.find('.lcms_wrap').remove();var vars=$elem.data('lcms_vars');if(vars.is_playing){clearInterval(vars.is_playing)}
$elem.find('.lcms_next, .lcms_prev').undelegate('click');$elem.removeData('lcms_vars');$elem.removeData('lcms_settings');$elem.removeData('lc_micro_slider');return!0};$.fn.lcms_paginate=function(direction){var $elem=$(this);var vars=$elem.data('lcms_vars');var settings=$elem.data('lcms_settings');$elem.lcms_stop_slideshow();lcms_slide($elem,direction);return!0};$.fn.lcms_start_slideshow=function(){var $elem=$(this);var vars=$elem.data('lcms_vars');var settings=$elem.data('lcms_settings');vars.is_playing=setInterval(function(){lcms_slide($elem,'next')},(settings.slideshow_time+settings.animation_time));$elem.find('.lcms_play').addClass('lcms_pause');$elem.trigger('lcms_play_slideshow');return!0};$.fn.lcms_stop_slideshow=function(){var $elem=$(this);var vars=$elem.data('lcms_vars');var settings=$elem.data('lcms_settings');clearInterval(vars.is_playing);vars.is_playing=null;if(!vars.paused_on_hover){$elem.find('.lcms_play').removeClass('lcms_pause')}
$elem.trigger('lcms_stop_slideshow');return!0};return this.each(function(){if($(this).data('lc_micro_slider')){return $(this).data('lc_micro_slider')}
var ms=new lc_micro_slider(this,lcms_settings);$(this).data('lc_micro_slider',ms)})}})(jQuery)